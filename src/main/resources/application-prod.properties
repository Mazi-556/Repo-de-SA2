# ============================================
# CONFIGURACIÓN DE PRODUCCIÓN - SA2Gemini
# ============================================

spring.application.name=SA2Gemini

# Puerto del servidor (Railway/Render asignan automáticamente)
server.port=${PORT:8080}

# ============================================
# BASE DE DATOS - PostgreSQL
# ============================================
# Railway provee PGHOST, PGPORT, PGDATABASE, PGUSER, PGPASSWORD
# Construimos la URL JDBC a partir de estas variables
spring.datasource.url=jdbc:postgresql://${PGHOST:localhost}:${PGPORT:5432}/${PGDATABASE:SA2_BD}
spring.datasource.username=${PGUSER:postgres}
spring.datasource.password=${PGPASSWORD:}

# Configuración de Hibernate para producción
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Pool de conexiones
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000

# ============================================
# THYMELEAF - Producción
# ============================================
spring.thymeleaf.cache=true
spring.thymeleaf.check-template-location=true

# ============================================
# RECURSOS ESTÁTICOS
# ============================================
spring.web.resources.cache.period=31536000
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**

# ============================================
# LOGGING
# ============================================
logging.level.root=WARN
logging.level.com.example.SA2Gemini=INFO
logging.level.org.springframework.security=WARN

# ============================================
# SEGURIDAD ADICIONAL
# ============================================
server.error.include-stacktrace=never
server.error.include-message=never
